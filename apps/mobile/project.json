{
  "tags": ["scope:mobile", "type:app"],
  "targets": {
    "build": {
      "executor": "nx:noop"
    },
    "android": {
      "command": "EXPO_ANDROID_LAUNCH_ACTIVITY='com.uniswap.mobile.dev/com.uniswap.MainActivity' bunx expo run:android --variant=devDebug --app-id=com.uniswap.mobile.dev",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "android:release": {
      "command": "EXPO_ANDROID_LAUNCH_ACTIVITY='com.uniswap.mobile.dev/com.uniswap.MainActivity' bunx expo run:android --variant=devRelease --app-id=com.uniswap.mobile.dev",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "android:beta": {
      "command": "EXPO_ANDROID_LAUNCH_ACTIVITY='com.uniswap.mobile.beta/com.uniswap.MainActivity' bunx expo run:android --variant=betaDebug --app-id=com.uniswap.mobile.beta",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "android:beta:release": {
      "command": "EXPO_ANDROID_LAUNCH_ACTIVITY='com.uniswap.mobile.beta/com.uniswap.MainActivity' bunx expo run:android --variant=betaRelease --app-id=com.uniswap.mobile.beta",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "android:prod": {
      "command": "EXPO_ANDROID_LAUNCH_ACTIVITY='com.uniswap.mobile/com.uniswap.MainActivity' bunx expo run:android --variant=prodDebug",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "android:prod:release": {
      "command": "EXPO_ANDROID_LAUNCH_ACTIVITY='com.uniswap.mobile/com.uniswap.MainActivity' bunx expo run:android --variant=prodRelease",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "check:deps:usage": {
      "command": "./scripts/checkDepsUsage.sh",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "check:bundlesize": {
      "command": "./scripts/checkBundleSize.sh",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "clean": {
      "command": "react-native-clean-project",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "debug:reactotron:install": {
      "command": "./scripts/installDebugger.sh",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "deduplicate": {
      "command": "echo 'Bun automatically deduplicates dependencies'",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "depcheck": {
      "command": "depcheck",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "env:android:keystore:download": {
      "command": "bash ./scripts/downloadAndroidKeystore.sh",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "env:fastlane:download": {
      "command": "bash ./scripts/downloadFastlaneEnv.sh",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "env:fastlane:upload": {
      "command": "bash ./scripts/uploadFastlaneEnv.sh",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "env:local:download": {
      "command": "bash ../../scripts/downloadEnvLocal.sh xmznnx7ozuojy5lnohcmt73aee ../../.env.defaults.local && bun run env:local:copy:swift",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "env:local:upload": {
      "command": "bash ../../scripts/uploadEnvLocal.sh xmznnx7ozuojy5lnohcmt73aee ../../.env.defaults.local",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "env:local:copy:swift": {
      "command": "python3 scripts/copy_env_vars_to_swift.py",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "e2e:prepare": {
      "executor": "nx:noop",
      "dependsOn": ["e2e:generate-ids", "e2e:build-js"]
    },
    "e2e:generate-ids": {
      "command": "mkdir -p .maestro/scripts/dist && bun run .maestro/scripts/tooling/generateTestIds.ts > .maestro/scripts/dist/testIds.js",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "e2e:build-js": {
      "command": "bun run .maestro/scripts/tooling/buildPerformanceScripts.ts",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "e2e": {
      "command": "maestro test .maestro",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": ["e2e:prepare"]
    },
    "e2e:onboarding": {
      "command": "maestro test .maestro/flows/onboarding",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": ["e2e:prepare"]
    },
    "e2e:swap": {
      "command": "maestro test .maestro/flows/swap",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": ["e2e:prepare"]
    },
    "e2e:clear-logs": {
      "command": "rm -rf $HOME/.maestro/tests",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "e2e:local:submit-metrics": {
      "command": ".maestro/scripts/performance/submit-local.sh metrics.jsonl",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "e2e:local:extract-metrics": {
      "command": "bun .maestro/scripts/performance/dist/utils/extract-metrics.js $HOME/.maestro/tests metrics.jsonl",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": ["e2e:build-js"]
    },
    "e2e:local:process-metrics": {
      "command": "bun run e2e:local:extract-metrics && bun run e2e:local:submit-metrics",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "e2e:interactive": {
      "command": "bun run .maestro/scripts/e2e-interactive.ts",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": ["e2e:prepare"]
    },
    "firestore:deploy:rules": {
      "command": "firebase deploy --only firestore:rules",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "link:assets": {
      "command": "react-native-asset",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "check:circular": {
      "command": "bunx madge --circular ./src/app/App.tsx",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "ios": {
      "command": "bunx expo run:ios --scheme Uniswap --configuration Debug",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "ios:interactive": {
      "command": "bun run scripts/ios-build-interactive/main.ts",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "ios:smol": {
      "command": "bunx expo run:ios --device=\"iPhone SE (3rd generation)\"",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "ios:dev:release": {
      "command": "bunx expo run:ios --configuration Dev",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "ios:beta": {
      "command": "bunx expo run:ios --configuration Beta",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "ios:bundle": {
      "command": "bunx react-native bundle --entry-file apps/mobile/index.js --platform ios --dev false --bundle-output ./ios/main.jsbundle --assets-dest ./ios --sourcemap-output ./ios/main.jsbundle.map",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "ios:release": {
      "command": "bunx expo run:ios --configuration Release",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "lint:biome": {},
    "lint:biome:fix": {},
    "lint": {},
    "lint:fix": {},
    "lint:eslint": {},
    "lint:eslint:fix": {},
    "start": {
      "command": "EXPO_ANDROID_LAUNCH_ACTIVITY='com.uniswap.mobile.dev/com.uniswap.MainActivity' EXPO_BUILD_CONFIGURATION=Debug NODE_ENV=development bunx expo start --scheme uniswap",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": ["pod:ensure", "android:ensure"]
    },
    "start:e2e": {
      "command": "NODE_ENV=development IS_E2E_TEST=true bunx expo start",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": ["pod:ensure", "android:ensure"]
    },
    "start:production": {
      "command": "NODE_ENV=production bunx expo start --reset-cache",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": ["pod:ensure", "android:ensure"]
    },
    "test": {
      "command": "node --max-old-space-size=8912 ../../node_modules/.bin/jest",
      "options": {
        "cwd": "{projectRoot}"
      },
      "inputs": [
        "sourceFiles",
        "mobileGlobals",
        "^production",
        "{projectRoot}/**/*.test.*",
        "{projectRoot}/**/*.spec.*"
      ]
    },
    "snapshots": {
      "command": "jest -u",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "typecheck": {},
    "typecheck:tsgo": {},
    "unicons": {
      "command": "cd scripts && python3 populate_svgs.py && cd .. && bun run lint --fix",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "pod": {
      "command": "./scripts/podinstall.sh",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "pod:ensure": {
      "command": "./scripts/check-podfile.sh",
      "options": {
        "cwd": "{projectRoot}"
      },
      "inputs": ["{projectRoot}/ios/Podfile", "{projectRoot}/ios/Podfile.lock"],
      "cache": true
    },
    "android:ensure": {
      "command": "./scripts/check-android-gradle.sh",
      "options": {
        "cwd": "{projectRoot}"
      },
      "inputs": [
        "{projectRoot}/android/build.gradle",
        "{projectRoot}/android/app/build.gradle",
        "{projectRoot}/android/settings.gradle",
        "{projectRoot}/android/gradle.properties"
      ],
      "cache": true
    },
    "pod:update": {
      "command": "./scripts/podinstall.sh -u",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "storybook:generate": {
      "command": "sb-rn-get-stories",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "prestart": {
      "command": "bun run storybook:generate",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "softreset": {
      "command": "bash ./scripts/resetDevEnv.sh",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "hardreset": {
      "command": "bash ./scripts/resetDevEnv.sh --hard",
      "options": {
        "cwd": "{projectRoot}"
      }
    }
  }
}
